@model XavSpace.Website.ViewModels.Boards.NoticeBoardIndexViewModel

@{
    string s = @Html.DisplayFor(modelItem => Model.Title).ToString();

}
<div id="mydiv">
<div class="col-lg-3 col-md-4 col-sm-5">

    <div class="well" style="height:180px;">
        <h1>
            <a href="@Url.Action("View", new { id=Model.Id })" style="">
                @if (s.Contains("Board"))
                {
                    @Html.DisplayFor(modelItem => Model.Title, new { @id = "NBTitle" }).ToString().Substring(0, s.IndexOf(' '));
                }
                else
                {
                    @Html.DisplayFor(modelItem => Model.Title, new { @id = "NBTitle" })
                }
            </a>
        </h1>
        @{string des = @Html.DisplayFor(model => Model.Description).ToString();}
        @if (des.Length > 40)
        {
            <h4>  @Html.DisplayFor(model => Model.Description).ToString().Substring(0, 40)...</h4>
        }
        else
        {
            <h4>  @Html.DisplayFor(model => Model.Description)</h4>
        }

        <div class="row">
            <div class="col-lg-3" style="width:100%">
                <div class="btn-toolbar btn-xs">
                    @if (User.Identity.IsModerator())
                    {
                        <div class="btn-group ">
                            <a href="@Url.Action("Edit", new { id = Model.Id })" class="btn btn-xs btn-primary">
                                <i class="glyphicon glyphicon-pencil" title="Edit Notice Board"></i>
                            </a>
                        </div>

                        <div class="btn-group ">
                            <button type="button" value="delete" class="btn btn-xs btn-primary" data-toggle="modal" data-target="#confirmDelete" onclick="thirdFunction(@Model.Id)">
                                <i class="glyphicon glyphicon-trash" title="Delete Notice Board"></i>
                            </button>
                        </div>
                    }
                    <div class="btn-group ">
                        @*@if (item.IsMandatory)
                            {
                                <button type="submit" class="btn btn-xs btn-delete" data-toggle="modal" data-target="#unfollowModal"><i class="fa fa-plus"></i> FOLLOWING</button>
                            }*@
                        @if (Model.IsSubscribed)
                        {
                            using (Html.BeginForm("Unsubscribe", "Boards", new { noticeboardId = Model.Id }, FormMethod.Post, new { @class = "subscribeForms" }))
                            {
                                <div class="unsubButton">
                                    <button type="submit" value="Unsubscribe" id="btnSubscribe" class="btn btn-xs btn-delete"><span class="following">FOLLOWING</span><span class="unfollow"><i class="fa fa-minus"></i> UNFOLLOW</span></button>
                                </div>
                            }
                        }
                        else
                        {
                            using (Html.BeginForm("Subscribe", "Boards", new { noticeboardId = Model.Id }, FormMethod.Post, new { @class = "subscribeForms" }))
                            {
                                <button type="submit" value="Subscribe" id="btnSubscribe" class="btn btn-xs btn-primary"><i class="fa fa-plus"></i> FOLLOW</button>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>